{% load staticfiles %}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Server Report</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
    <canvas id="myChart"></canvas>
    </head>
<script>
var months = JSON.parse('{{ all_months | escapejs }}');
console.log(months[1])


var ctx = document.getElementById("myChart");

    var myChart = new Chart(ctx, {
    type: 'scatter',
    data: {
        datasets: [
            {
            label: 'Chart 1',
            data: [
                {x: months[1].month, y: months[1].total_sales},
                {x: months[2].month, y: months[2].total_sales},
                {x: months[3].month, y: months[3].total_sales},
                {x: months[4].month, y: months[4].total_sales},
                {x: months[5].month, y: months[5].total_sales},
                {x: months[6].month, y: months[6].total_sales},
                {x: months[7].month, y: months[7].total_sales},
                {x: months[8].month, y: months[8].total_sales},
                {x: months[9].month, y: months[9].total_sales},
                {x: months[10].month, y: months[10].total_sales},
                {x: months[11].month, y: months[11].total_sales},
                {x: months[12].month, y: months[12].total_sales},
            ],
            showLine: true,
            fill: false,
            borderColor: 'rgba(0, 200, 0, 1)'
            },
        {
            label: 'Chart 2',
            data: [
                {x: months[1].month, y: months[1].total_tips},
                {x: months[2].month, y: months[2].total_tips},
                {x: months[3].month, y: months[3].total_tips},
                {x: months[4].month, y: months[4].total_tips},
                {x: months[5].month, y: months[5].total_tips},
                {x: months[6].month, y: months[6].total_tips},
                {x: months[7].month, y: months[7].total_tips},
                {x: months[8].month, y: months[8].total_tips},
                {x: months[9].month, y: months[9].total_tips},
                {x: months[10].month, y: months[10].total_tips},
                {x: months[11].month, y: months[11].total_tips},
                {x: months[12].month, y: months[12].total_tips}

            ],
            showLine: true,
            fill: false,
            borderColor: 'rgba(200, 0, 0, 1)'
            }
        ]
    },
    options: {
        tooltips: {
        mode: 'index',
        intersect: false,
        },
        hover: {
        mode: 'nearest',
        intersect: true
        },
        scales: {
        yAxes: [{
            ticks: {
            beginAtZero:true
            }
        }]
        },
    }
    });
</script>
  <style>
        body{
            background-color: bisque;
        }
        .header {
            text-align: center;
        }
        .header span{
            color:blue;
        }
        #main{
            display: flex;
            text-align: center;
        }
        .totals{
            width: 100%;
        }
        .average-tips{
            width: 100%;
        }
        .average-sales{
            width: 100%;
        }
    </style>
  <body>
      <!-- {{all_months}} -->
        <!-- <div class="header">
                <h1>Monthly Report for <span>{{ user }}</span></h1>
                <h1>MONTH {{month}}, 2018</h1>
                <a href="{% url 'website:index' %}">Return to the homepage.</a><br />
        </div>
        <div id="main">
            <div class="totals">
                <h1>Totals</h1>
                <h4>Monthly Total Sales: ${{ month_sales }}</h4>
                <h4>Monthly Total Tips: ${{ total_tips }} </h4>
                <h4>Monthly Total Shifts: {{ shifts }}</h4>
                <h4>Monthly Total Tables: {{ tables }} </h4>
                <h4>Monthly Total Customers: {{ customers }}</h4>
                <h4>Monthly Total Hours: {{ hours }} </h4>
            </div>

            <div class="average-tips">
                <h1>Average Tips</h1>
                <h4>Average Tips per Hour: ${{ average_tips_hourly }}</h4>
                <h4>Average Tips per Shift: $ {{ average_tips_shift }}</h4>
                <h4>Average Tips per Table: $ {{ average_tips_table }} </h4>
                <h4>Average Tips per Customer: $ {{ average_tips_customer }} </h4>
                <h4>Average Tip Percentage: {{ average_tip_percentage }}%</h4>
            </div>

            <div class="average-sales">
                <h1>Average Sales</h1>
                <h4>Average Sales per Hour: ${{ average_sales_hourly }}</h4>
                <h4>Average Sales per Shift: $ {{ average_sales_shift }}</h4>
                <h4>Average Sales per Table: $ {{ average_sales_table }} </h4>
                <h4>Average Sales per Customer: $ {{ average_sales_customer }} </h4>
            </div>
        </div> -->
  </body>
</html>