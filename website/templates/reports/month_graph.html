{% load staticfiles %}

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Server Report</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.7.2/Chart.min.js"></script>
    <canvas id="myChart"></canvas>
    </head>
    <style>
            body{
                background-color: bisque;
                width: 50%;
            }
            .header {
                text-align: center;
            }
            .header span{
                color:blue;
            }
            #main{
                display: flex;
                text-align: center;
            }
            .totals{
                width: 100%;
            }
            .average-tips{
                width: 100%;
            }
            .average-sales{
                width: 100%;
            }
        </style>
<script>
var months = JSON.parse('{{ all_months | escapejs }}');
var ctx = document.getElementById("myChart");

    var myChart = new Chart(ctx, {
    type: 'scatter',
    data: {
        datasets: [
            {
            label: 'Total Sales by Month',
            data: [
                {x: months[1].month, y: months[1].total_sales},
                {x: months[2].month, y: months[2].total_sales},
                {x: months[3].month, y: months[3].total_sales},
                {x: months[4].month, y: months[4].total_sales},
                {x: months[5].month, y: months[5].total_sales},
                {x: months[6].month, y: months[6].total_sales},
                {x: months[7].month, y: months[7].total_sales},
                {x: months[8].month, y: months[8].total_sales},
                {x: months[9].month, y: months[9].total_sales},
                {x: months[10].month, y: months[10].total_sales},
                {x: months[11].month, y: months[11].total_sales},
                {x: months[12].month, y: months[12].total_sales},
            ],
            showLine: true,
            fill: true,
            borderColor: 'rgba(0, 200, 0, 1)'
            },
        {
            label: 'Total Tips by Month',
            data: [
                {x: months[1].month, y: months[1].total_tips},
                {x: months[2].month, y: months[2].total_tips},
                {x: months[3].month, y: months[3].total_tips},
                {x: months[4].month, y: months[4].total_tips},
                {x: months[5].month, y: months[5].total_tips},
                {x: months[6].month, y: months[6].total_tips},
                {x: months[7].month, y: months[7].total_tips},
                {x: months[8].month, y: months[8].total_tips},
                {x: months[9].month, y: months[9].total_tips},
                {x: months[10].month, y: months[10].total_tips},
                {x: months[11].month, y: months[11].total_tips},
                {x: months[12].month, y: months[12].total_tips}

            ],
            showLine: true,
            fill: false,
            borderColor: 'rgba(200, 0, 0, 1)'
            }
        ]
    },
    options: {
        tooltips: {
        mode: 'index',
        intersect: false,
        },
        hover: {
        mode: 'nearest',
        intersect: true
        },
        scales: {
        yAxes: [{
            ticks: {
            beginAtZero:true
            }
        }]
        },
    }
    });
</script>

  <body>
  </body>
</html>